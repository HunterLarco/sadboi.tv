<script setup lang="ts">
import { ref } from 'vue';

const props = defineProps<{
  fill: string;
}>();

defineExpose({ wiggle });

const wiggleTimeout = ref<ReturnType<typeof setTimeout> | null>(null);

function wiggle() {
  if (wiggleTimeout.value != null) return;
  wiggleTimeout.value = setTimeout(() => {
    wiggleTimeout.value = null;
  }, 1250);
}
</script>

<template>
  <svg
    :class="wiggleTimeout ? 'ShakaIcon_Wiggle' : ''"
    width="23px"
    height="30px"
    viewBox="0 0 23 30"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <g fill-rule="evenodd">
      <g transform="translate(16.685520, 0.213235)">
        <path
          d="M6.17686652,2.19230769 C6.17686652,0.826357466 5.10531674,0.0904977376 4.04705882,0.0698529412 C2.98766968,0.0514705882 1.8790724,0.745475113 1.82477376,2.13885747 L1.82477376,6.45786199 C1.45345023,6.22313348 1.01538462,6.08540724 0.544230769,6.08540724 L0.0487556561,6.08540724 L0.0487556561,7.21662896 L0.544230769,7.21662896 C1.24756787,7.21662896 1.81996606,7.78874434 1.81996606,8.49208145 L1.81996606,8.91346154 L1.81996606,12.9213801 L1.81996606,13.343043 C1.81996606,14.0460973 1.24756787,14.6182127 0.544230769,14.6182127 L0.0487556561,14.6182127 L0.0487556561,15.7494344 L0.544230769,15.7494344 C1.87143665,15.7494344 2.95118778,14.6699661 2.95118778,13.343043 L2.95118778,12.9213801 L2.95118778,10.3515271 L2.95599548,10.3515271 L2.95571267,2.16091629 C2.9834276,1.45050905 3.52895928,1.20050905 3.9989819,1.20050905 C4.00774887,1.20050905 4.01623303,1.20079186 4.025,1.20079186 C4.49587104,1.21012443 5.0456448,1.47539593 5.0456448,2.1925905 L5.04875566,10.4451357 L5.04847285,18.1371606 C5.04847285,22.9290158 4.01764706,24.0953054 3.1084276,25.1244344 C2.87992081,25.3829186 2.64377828,25.6501697 2.43365385,25.9598416 C2.37002262,26.0534502 2.33580317,26.16431 2.33580317,26.2774321 L2.33580317,29.1286765 L3.46702489,29.1286765 L3.46702489,26.4581448 C3.61464932,26.2598982 3.78150452,26.071267 3.95599548,25.8733032 C4.9466629,24.7522624 6.17969457,23.3571833 6.17969457,18.1371606 L6.17969457,16.3908371 L6.18252262,16.3908371 L6.17686652,2.19230769 Z"
          :fill="props.fill"
        ></path>
      </g>
      <path
        d="M13.3540158,6.29852941 L12.861086,6.29852941 L12.861086,7.42975113 L13.3540158,7.42975113 C14.0573529,7.42975113 14.6297511,8.00186652 14.6297511,8.70548643 L14.6297511,9.29739819 L14.6297511,11.8330317 L14.6297511,13.5561652 C14.6297511,14.2592195 14.0573529,14.8316176 13.3540158,14.8316176 L12.8777715,14.8316176 L12.8777715,15.9628394 L13.3540158,15.9628394 C14.6809389,15.9628394 15.7609729,14.8830882 15.7609729,13.5561652 L15.7609729,11.8330317 L15.7609729,9.29739819 L15.7609729,8.70548643 C15.7609729,7.37828054 14.6812217,6.29852941 13.3540158,6.29852941"
        :fill="props.fill"
      ></path>
      <g transform="translate(0.000000, 6.152149)">
        <path
          d="M8.01883484,4.51136878 L8.01883484,3.14513575 L8.01883484,2.55322398 C8.01883484,1.84988688 8.59095023,1.27748869 9.29457014,1.27748869 L9.48291855,1.27748869 C10.1865385,1.27748869 10.7586538,1.84988688 10.7586538,2.55322398 L10.7586538,5.68105204 L10.7637443,5.68105204 L10.7637443,7.40418552 C10.7637443,8.10723982 10.1913462,8.6793552 9.48772624,8.6793552 L9.29457014,8.6793552 C8.59123303,8.6793552 8.01883484,8.10723982 8.01883484,7.40418552 L8.01883484,5.68105204 L8.01883484,4.51136878 Z M8.01883484,10.7390271 L8.01883484,9.44123303 C8.38930995,9.6739819 8.82596154,9.81057692 9.29457014,9.81057692 L9.48772624,9.81057692 C10.8149321,9.81057692 11.8949661,8.7311086 11.8949661,7.40418552 L11.8949661,3.14513575 L11.8898756,3.14513575 L11.8898756,2.55322398 C11.8898756,1.2263009 10.8101244,0.146266968 9.48291855,0.146266968 L9.29457014,0.146266968 C7.96736425,0.146266968 6.88761312,1.2263009 6.88761312,2.55322398 L6.88761312,3.14513575 L6.88761312,4.51136878 L6.88761312,5.68105204 L6.88761312,7.40418552 L6.88761312,10.573586 C6.79117647,10.5181561 6.71170814,10.4712104 6.56097285,10.3012443 C6.54202489,10.2797511 6.52335973,10.2576923 6.50497738,10.2347851 C6.46510181,10.1855769 6.42579186,10.1329751 6.38676471,10.0769796 C6.37121041,10.054638 6.35565611,10.0339932 6.34038462,10.0108032 C6.28976244,9.9341629 6.23942308,9.8513009 6.18936652,9.76306561 C6.17070136,9.7311086 6.1520362,9.69632353 6.13365385,9.66266968 C6.09660633,9.59507919 6.05899321,9.52522624 6.02109729,9.45197964 C6.00271493,9.41691176 5.98461538,9.3821267 5.96623303,9.3456448 C5.91306561,9.24072398 5.85961538,9.13325792 5.80361991,9.01815611 C5.66221719,8.72856335 5.5165724,8.4293552 5.35424208,8.1533371 C4.68088235,7.00967195 3.86131222,6.35328054 2.91815611,6.20226244 C2.90373303,6.2 2.88987557,6.19943439 2.87545249,6.19717195 C1.97330317,6.06255656 1.17381222,6.27437783 0.623190045,6.79756787 C0.201244344,7.19802036 -0.019061086,7.73789593 0.00130090498,8.29615385 C0.00299773756,8.34111991 0.00299773756,8.38608597 0.00780542986,8.43105204 C0.0304298643,8.64089367 0.10989819,8.89739819 0.225,9.17850679 C0.525622172,9.91125566 1.07454751,10.8136878 1.53665158,11.5167421 C1.9645362,12.1683258 2.31719457,12.6482466 2.32596154,12.6598416 C3.47047511,14.1804864 4.05701357,15.2164027 4.57426471,16.1301471 C5.10197964,17.0625566 5.55588235,17.86431 6.43512443,18.8433824 C6.83472851,19.2882353 7.32256787,19.7698529 7.94502262,20.3173643 L7.94671946,23.1901018 L9.07794118,23.1895362 L9.07596154,20.0594457 C9.07596154,19.8948529 9.00441176,19.7387443 8.87969457,19.6312783 C6.87969457,17.906448 6.35395928,16.9779977 5.5584276,15.5724548 C5.54683258,15.55181 5.53382353,15.5291855 5.5219457,15.5082579 C5.02024887,14.6216629 4.39128959,13.5223982 3.2300905,11.9794118 C2.43936652,10.9287896 1.19926471,8.9293552 1.13252262,8.31001131 C1.10565611,8.05803167 1.20378959,7.80605204 1.4020362,7.61798643 C1.53721719,7.48959276 1.71001131,7.39966063 1.90995475,7.3456448 C2.15062217,7.28088235 2.43088235,7.26957014 2.73942308,7.31906109 C3.32483032,7.41295249 3.89213801,7.89966063 4.37912896,8.72714932 C4.51911765,8.96470588 4.64892534,9.2311086 4.78665158,9.51334842 C5.30277149,10.5733032 5.94671946,11.8951357 7.44983032,11.8354638 C10.0493778,11.7805995 11.473586,12.8507353 12.5555995,14.7574095 L13.1664593,14.4765837 C12.0949095,12.2325226 10.5895362,10.9771493 8.01883484,10.7390271 L8.01883484,10.7390271 Z"
          :fill="props.fill"
        ></path>
      </g>
    </g>
  </svg>
</template>

<style scoped lang="scss">
.ShakaIcon_Wiggle {
  animation: wiggle 1s ease-in-out;
  transform-origin: 50% 100%;
}

@keyframes wiggle {
  20% {
    transform: rotate(5deg);
  }
  40% {
    transform: rotate(-5deg);
  }
  60% {
    transform: rotate(10deg);
  }
  80% {
    transform: rotate(-2.5deg);
  }
  100% {
    transform: rotate(0deg);
  }
}
</style>
